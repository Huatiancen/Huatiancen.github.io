<!-- æ–‡ç« ç›®å½• -->
{% if page.toc %}
<div class="toc-wrapper sidebar-widget">
  <h3 class="widget-title">ğŸ“– ç›®å½•</h3>
  <nav class="toc-nav">
    {% include toc.html html=content h_min=2 h_max=3 skipNoIDs=true class="toc" %}
  </nav>
</div>
{% endif %}

<!-- æœ€æ–°æ–‡ç«  -->
<div class="recent-posts-widget sidebar-widget">
  <h3 class="widget-title">ğŸ“ æœ€æ–°æ–‡ç« </h3>
  <div class="widget-content">
    {% assign recent_posts = site.posts | limit: 5 %}
    {% for post in recent_posts %}
    <article class="widget-post">
      <h4 class="widget-post-title">
        <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
      </h4>
      <time class="widget-post-date">{{ post.date | date: "%Y-%m-%d" }}</time>
    </article>
    {% endfor %}
  </div>
</div>

<!-- æ ‡ç­¾äº‘ -->
<div class="tags-widget sidebar-widget">
  <h3 class="widget-title">ğŸ·ï¸ æ ‡ç­¾</h3>
  <div class="widget-content">
    <div class="tag-cloud">
      {% assign tags = site.tags | sort %}
      {% for tag in tags %}
        {% assign tag_name = tag[0] %}
        {% assign tag_posts = tag[1] %}
        <a href="/tags/#{{ tag_name | slugify }}" class="tag-item" title="{{ tag_posts.size }} ç¯‡æ–‡ç« ">
          {{ tag_name }}
          <span class="tag-count">{{ tag_posts.size }}</span>
        </a>
      {% endfor %}
    </div>
  </div>
</div>

<!-- å½’æ¡£ç»Ÿè®¡ -->
<div class="archive-widget sidebar-widget">
  <h3 class="widget-title">ğŸ“Š ç»Ÿè®¡</h3>
  <div class="widget-content">
    <div class="stat-grid">
      <div class="stat-item">
        <span class="stat-number">{{ site.posts.size }}</span>
        <span class="stat-label">æ–‡ç« </span>
      </div>
      <div class="stat-item">
        {% assign total_words = 0 %}
        {% for post in site.posts %}
          {% assign words = post.content | number_of_words %}
          {% assign total_words = total_words | plus: words %}
        {% endfor %}
        <span class="stat-number">{{ total_words | divided_by: 1000 }}k</span>
        <span class="stat-label">å­—æ•°</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">{{ site.tags.size }}</span>
        <span class="stat-label">æ ‡ç­¾</span>
      </div>
      <div class="stat-item">
        {% assign categories = site.posts | map: 'categories' | join: ',' | split: ',' | uniq %}
        <span class="stat-number">{{ categories.size }}</span>
        <span class="stat-label">åˆ†ç±»</span>
      </div>
    </div>
  </div>
</div>

<!-- å‹æƒ…é“¾æ¥ -->
<div class="links-widget sidebar-widget">
  <h3 class="widget-title">ğŸ”— å‹æƒ…é“¾æ¥</h3>
  <div class="widget-content">
    <div class="friend-links">
      <a href="https://github.com" target="_blank" class="friend-link">
        <span class="link-icon">ğŸ™</span>
        <span class="link-text">GitHub</span>
      </a>
      <a href="https://jekyllrb.com" target="_blank" class="friend-link">
        <span class="link-icon">ğŸ’</span>
        <span class="link-text">Jekyll</span>
      </a>
    </div>
  </div>
</div>
